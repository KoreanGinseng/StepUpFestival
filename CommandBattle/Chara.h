/*************************************************************************//*!

					@file	Chara.h
					@brief	キャラクタ基底クラス

															@author	いのうえ
															@date	2020.02.21
*//**************************************************************************/

//ONCE
#pragma once

//INCLUDE
#include "GameAppBase.h"
#include "GameDefine.h"

namespace DxLibPlus
{
	// ********************************************************************************
	/// <summary>
	/// キャラクター基礎クラス
	/// </summary>
	// ********************************************************************************
	class CChara : public CGameAppBase
	{
	protected:
		Status		m_Status;		//!<ステータス
		float		m_AttackRate;	//!<攻撃倍率
		bool		m_bDead;		//!<死亡フラグ
		int			m_DamageWait;	//!<ダメージ待機時間
		int			m_OffsetHp;		//!<体力初期値
	public:
		// ********************************************************************************
		/// <summary>
		/// コンストラクタ
		/// </summary>
		/// <returns>None</returns>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		CChara(void);
		// ********************************************************************************
		/// <summary>
		/// デストラクタ
		/// </summary>
		/// <returns>None</returns>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		virtual ~CChara(void);
		// ********************************************************************************
		/// <summary>
		/// 読み込み
		/// </summary>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		virtual bool Load(void);
		// ********************************************************************************
		/// <summary>
		/// 初期化
		/// </summary>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		virtual void Initialize(void) = 0;
		// ********************************************************************************
		/// <summary>
		/// 更新
		/// </summary>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		virtual void Update(void) = 0;
		// ********************************************************************************
		/// <summary>
		/// 描画
		/// </summary>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		virtual void Render(void) = 0;
		// ********************************************************************************
		/// <summary>
		/// 解放
		/// </summary>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		virtual void Release(void) override;
		// ********************************************************************************
		/// <summary>
		/// ダメージ処理
		/// </summary>
		/// <param name="dmg">ダメージ</param>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		virtual void Dmg(const int& dmg);
		// ********************************************************************************
		/// <summary>
		/// 攻撃力取得
		/// </summary>
		/// <returns>攻撃力</returns>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		int GetAttack(void) const;
		// ********************************************************************************
		/// <summary>
		/// 体力取得
		/// </summary>
		/// <returns>体力</returns>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		int GetHp(void) const;
		// ********************************************************************************
		/// <summary>
		/// 死亡フラグの取得
		/// </summary>
		/// <returns>死亡フラグ</returns>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		bool IsDead(void) const;
		// ********************************************************************************
		/// <summary>
		/// ダメージ待ち時間の取得
		/// </summary>
		/// <returns>ダメージ待ち時間</returns>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		int GetDamageWait(void) const;
		// ********************************************************************************
		/// <summary>
		/// ダメージ待ち時間の更新
		/// </summary>
		/// <created>いのうえ,2020/02/21</created>
		/// <changed>いのうえ,2020/02/21</changed>
		// ********************************************************************************
		void RefreshDmg(void);
	};
}

