/*************************************************************************//*!

					@file	Sound.h
					@brief	サウンドクラス

															@author	いのうえ
															@date	2020.02.21
*//**************************************************************************/

//ONCE
#pragma once

//INCLUDE
#include	"DxLib.h"
#include	<string>

namespace DxLibPlus
{
	// ********************************************************************************
	/// <summary>
	/// サウンドクラス
	/// </summary>
	// ********************************************************************************
	class CSound
	{
	private:
		int m_SoundHandle;		//!<サウンドハンドル
		bool m_bLoop;			//!<ループフラグ
	public:
		// ********************************************************************************
		/// <summary>
		/// コンストラクタ
		/// </summary>
		/// <returns>None</returns>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		CSound(void);
		// ********************************************************************************
		/// <summary>
		/// デストラクタ
		/// </summary>
		/// <returns>None</returns>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		~CSound(void);
		// ********************************************************************************
		/// <summary>
		/// 読み込み
		/// </summary>
		/// <param name="file">ファイル名</param>
		/// <returns></returns>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		bool Load(const std::string& file);
		// ********************************************************************************
		/// <summary>
		/// 再生する
		/// </summary>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		void Play(void);
		// ********************************************************************************
		/// <summary>
		/// 再生中かチェックする
		/// </summary>
		/// <returns>再生中かどうかのフラグ</returns>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		bool IsPlay(void) const;
		// ********************************************************************************
		/// <summary>
		/// 止める
		/// </summary>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		void Stop(void);
		// ********************************************************************************
		/// <summary>
		/// ループ設定
		/// </summary>
		/// <param name="b">ループフラグ</param>
		/// <param name="loopTime">ループ再生する開始時間(ミリ秒)</param>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		void SetLoop(const bool& b, const int& loopTime = 0);
		// ********************************************************************************
		/// <summary>
		/// 解放
		/// </summary>
		/// <created>いのうえ,2020/02/23</created>
		/// <changed>いのうえ,2020/02/23</changed>
		// ********************************************************************************
		void Release(void);
	};
}

